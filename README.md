# Objectivity.AutoFixture.XUnit2.AutoMoq
Autofixture auto-mocking for [XUnit](http://xunit.github.io/) using [Moq](https://github.com/moq/moq4).
It provides 3 attributes:
- AutoMoqData
- InlineAutoMoqData
- MemberAutoMoqData

#Attributes
##AutoMoqData
Provides auto-generated data specimens generated by [AutoFixture](https://github.com/AutoFixture/AutoFixture) with [Moq](https://github.com/moq/moq4) as an extension to xUnit.net's Theory attribute.

#####Arguments:
- IgnoreVirtualMembers - disables generation members marked as `virtual`; by default set to `false`

#####Example:
```csharp
[Theory]
[AutoMoqData(IgnoreVirtualMembers = true)]
public void ComplexTypeGenerationWithIgnoreVirtualMembers(Sample testObject)
{
    output.WriteLine($"Not Virtual Property: {testObject.NotVirtualProperty}");

    testObject.VirtualProperty.Should().BeNull();
    output.WriteLine($"Virtual Property: {testObject.VirtualProperty}");
}
```

##InlineAutoMoqData
Provides a data source for a data theory, with the data coming from inline values combined with auto-generated data specimens generated by [AutoFixture](https://github.com/AutoFixture/AutoFixture) with [Moq](https://github.com/moq/moq4).
#####Arguments:
- IgnoreVirtualMembers - disables generation members marked as `virtual`; by default set to `false`

#####Example:
```csharp
[Theory]
[InlineAutoMoqData("name1")]
[InlineAutoMoqData("name2", 1)]
[InlineAutoMoqData]
public void ComplexTypeGeneration(string name, int number, SampleClass testObject)
{
    Output.WriteLine($"Name: {name}");
    Output.WriteLine($"Number: {number}");

    Output.WriteLine($"Not Virtual Property: {testObject.NotVirtualProperty}");
    testObject.VirtualProperty.Should().NotBeNull();
    Output.WriteLine($"Virtual Property: {testObject.VirtualProperty}");
}
```

##MemberAutoMoqData
Provides a data source for a data theory, with the data coming from one of the following sources:
- A static property
- A static field
- A static method (with parameters)

combined with auto-generated data specimens generated by [AutoFixture](https://github.com/AutoFixture/AutoFixture) with [Moq](https://github.com/moq/moq4).

The member must return something compatible with `Enumerable<object[]>` with the test data.
**Caution:** The property is completely enumerated by .ToList() before any test is run. Hence it should return independent object sets.
#####Arguments:
- IgnoreVirtualMembers - disables generation members marked as `virtual`; by defaul set to `false`
- ShareFixture - indicates whether to share a `fixture` across all data items should be used or new one; by defaul set to `true`

#####Example:
```csharp
public static IEnumerable<object[]> ComplexData { get; } = new List<object[]>
{
    new object[]
	{
    	"name1", 1, new SampleClass()
        {
        	NotVirtualProperty = "va1",
            VirtualProperty = "val2"
		}
	},
    new object[] {"name2", 2},
    new object[] {"name3"},
    new object[] {"name4"}
};

[Theory]
[MemberAutoMoqData("ComplexData", IgnoreVirtualMembers = false, ShareFixture = false)]
public void ComplexTypeGeneration(string name, int number, SampleClass testObject)
{
	Output.WriteLine($"Name: {name}");
    Output.WriteLine($"Number: {number}");

    Output.WriteLine($"Not Virtual Property: {testObject.NotVirtualProperty}");
    testObject.VirtualProperty.Should().NotBeNull();
    Output.WriteLine($"Virtual Property: {testObject.VirtualProperty}");
}
```

#Other examples
